{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Getting Started","text":"<p>Welcome to Nutanix Migration Hands-On Lab.</p>"},{"location":"#introduction","title":"Introduction","text":"<p>This is an instructor-led hands-on lab session that enables you to experience migration process to Nutanix Cloud Clusters in just a few steps.</p> <p>Before you commence, please ensure you either have your VPN connectivity setup or have the necessary information you need to access the labs or through Parallels VDI connectivity.</p> <p>In addition, please familarise yourself with the lab environment before attemping the labs. Should your need assistance, inform the instructor(s) in the room.</p> <p>VPN or VDI Access</p> <p>Information to access VPN or VDI connectivity is found in the email that has been sent to you prior to this lab day.</p>"},{"location":"#learning-outcomes","title":"Learning Outcomes","text":"<pre><code>By the end of this session, you will be able to:\n\n- Learn how to approach and plan for migration conversations confidently.\n- Learn to migrate VMs and workloads from ESXi to AHV using Move.\n- Learn advanced migration techniques with Move using categories and policies.\n- Learn day 2 management on Nutanix, including:\n- Learn how and why to install Nutanix Guest Tools on VMs.\n- Identity and Access Management (IAM).\n- How to use X-Play for no-code automation.\n- Detection of inefficient VMs.\n- Configure and understand how Nutanix DR works\n- Configure and test out protection and recovery\n\nFinally, understand what resources and tools can be used to plan and execute a \nsuccessful migration and DR strategy.\n</code></pre> <p>I hope this lab will be fruitful for you in your journey on learning Nutanix and should you need any help in your labs or have any existing questions please feel free to reach out to the instructor in your room.</p>"},{"location":"AdvMigrate/advancedmigrate/","title":"Create an Advanced Migration Plan","text":"<p>You have now completed a basic migration of a simple single VM workload or you have just setup Move  and skipped straight here if you already know Move. Now that your comfortable with the basics of Move,  let's explore a more advanced example.</p> <p>In this section of the lab we will dive into some of the more advanced options available within the  Move tool and how and when to utilize them. These types of scenarios are fairly common in larger and  more security conscious environments. We hope they increase your and your organization's confidence in  the Move tool and Nutanix to simplify the migration process.</p> <p>You will be creating a second migration plan within the same Move instance you utilized in previous  section. So jump back to the Move console and proceed with the following steps:</p> <p>Note</p> <p>Before you proceed to create a second migration plan, please create an additional environment to add  the assigned clusters you are in as the target for this lab, if you have not done so.</p> <ol> <li> <p>Click Create a Migration Plan.</p> <p>Note</p> <p>If Create a Migration Plan button is greyed out, wait 2-3 minutes. Move must poll the source and  target clusters and wait for their responses while 9 of your lab-mates are doing the same and  migrating VMs!</p> <p></p> </li> <li> <p>Enter a name for the Plan User##-VM-Plan2. Click Proceed.</p> <p></p> </li> <li> <p>Select Source: ESXi and Target: Nutanix AHV. Click Next.</p> <ul> <li>Select a Source : ESXi or whatever name you gave earlier</li> <li>Select a Target : Nutanix AHV or whatever name you gave earlier</li> <li>Target Project : None</li> <li>Target Cluster : Select the destination AHV cluster</li> <li> <p>Target Container : default</p> <p></p> </li> </ul> </li> <li> <p>You are now presented with the list of VMs on the source cluster. A few things of note:</p> <ul> <li>You will see that some VMs are unavailable to select. The plus button is shaded out.</li> <li>They also have an icon to the right of them that explains which migration plan they are a part of.</li> <li> <p>When working at scale you will need to find the specific VMs that should be added to a plan.    This can be done manually, through filters, or by searching by name.</p> <p> </p> </li> </ul> </li> <li> <p>We will use the Filter function to narrow down the VM that you will be migrating as part of this plan.</p> <ul> <li>First click the Filters option on the left of the VM inventory.</li> <li>Then expand the option for Tags.</li> <li> <p>Look for the tag named Local Backup and select it.</p> <p></p> </li> </ul> </li> <li> <p>You should now see the VM inventory list is showing only the VMs on the ESXi source that have the  selected vCenter Tag applied. This is helpful as it allows for easily finding VMs based on a tag that  was applied by the organization for some purpose.</p> <ul> <li>We can use this process to aide in the migration of Tags on the VMware side to Categories on the Prism    Central target.</li> <li>Organizations use tags for many reasons. Some reasons are as simple as a way to find VMs that have a    specific purpose or belong to a group. Or, Tags could be the way that specific policies or rules are applied with a tool such as NSX.</li> <li> <p>If a matching or updated policy is created on the target side, we can then ensure the migrating        workloads will benefit from the same policies once they are migrated to the target.</p> <p></p> </li> </ul> </li> <li> <p>Select your Linux VM to Move, XXX_User###_Tagged where XXX is the preface provided to you  by your instructor. You may need to hover over the VM to see the full name. Once selected, click  Next in the bottom right-hand corner.</p> <p></p> </li> <li> <p>For Networks, Select primary for the Target Network and in Test Network select secondary.  Click Next.</p> <ul> <li>In the previous basic migration you selected a secondary network which is optonal.</li> <li>In this migration you will see how to utilize this Test Network and how it can benefit organizations.</li> </ul> <p></p> </li> <li> <p>On the VM preparation page, in the previous migration example completed earlier you used the  Automatic option to let Move execute all of the preparation steps for you. In this migration we will  explain the Manual method and discuss some reasons to use it.</p> <ul> <li>Preparation Mode - Manual. In Manual mode, by default Move will only migrate the data over.<ul> <li>The VM preparation script and all OS configuration options will have to be run outside of Move  either manually or via an automation step or 3rd party tool when in manual mode.</li> </ul> </li> <li>Guest Operations<ul> <li>Retain static IP Addresses from source VMs: If VMs have static IPs, they are retained on the   destination. If DHCP is used, like in our case, the VMs will get a new IP address on the destination.</li> <li>Uninstall VMware Tools on target VMs: Since we are moving to AHV, we do not need VMWare Tools   installed on the VM.</li> <li> <p>Bypass guest operations on source VMs: Will only do data migration and no guest OS operations.   Keep this unchecked.</p> <p></p> </li> </ul> </li> </ul> </li> <li> <p>When using Manual preparation mode it provides the scripts for you to run outside of Move.  We are going to have you copy these scripts, but won't make you use them.</p> <p>Info</p> <p>There are a few reasons why one might need to use Manual preparation mode, but the most common is  privledges inside of the VM.</p> <ul> <li>It is increasingly common that organizations will not widely give out elevated credentials to      access groups of VMs. For this reason the Automatic preparation mode in Move would not work.</li> <li>But, if you can run these scripts with another method locally or remotely then the same Migration      experience can be accomplished.</li> <li>Often organizations that have implemented tigther security practices will have a tool to remotely      execute scripts with unique credentials and this can likely be utilized.</li> </ul> <ul> <li>There is a script to run for Windows VMs and one for Linux VMs. You should save the appropriate script  (s)to a location that you can use them to run against the source VMs.</li> <li>Click the Copy option for Linux VMs and the script will be copied to the clipboard.</li> <li> <p>Note: If you change the values above you will need to click the Re-Generate Script option to    adjust the scripts for the new changes.</p> <p></p> </li> </ul> </li> <li> <p>On your device, open the Notepad app and paste in the Linux script. You would then take this script  and run it against any Linux OS VMs that are being migrated in manual preparation mode. Since you won't  use this file later on, you can choose to ignore this step.</p> <ul> <li>This can be done in many ways such as logging in with root privileges and running locally, accessing  the VM remotely and running the script, or by using a tool with elevated access to run the script remotely.</li> <li>This will be a common step in secure environments and should not cause any concern.</li> <li> <p>You are copying and saving the manual preparation script - but you won't be using it in this lab.</p> <p></p> </li> </ul> </li> <li> <p>On the VM Settings page, keep the defaults for everything except the Category Settings which  you will adjust in the next step.</p> <p>At the bottom the Settings for Individual VMs, allow for VM settings on this page to be  modified for specific VMs in the migration group like enabling Memory Overcommit as an example.</p> <p>Note</p> <p>When enabling Memory Overcommit on VMs on AHV, they will initially utilize their full assigned  memory. Moving a large group of VMs with overcommit enabled can cause a surge of memory before  AHV sorts out how much memory the VMs use and the amount that can be shared. It's best to enable  Memory Overcommit in smaller groups or enable after the fact on small groups of VMs.</p> <p></p> </li> <li> <p>Now, move your focus to the Category Settings section of the page. The default selection of Select  and Apply Target Categories for All VMs in the plan is an optional choice. If no category is assigned,  it is skipped. If a PC category is assigned, it will be applied to every VM migrated as part of the group.</p> <ul> <li>You will first select the Assign Categories to target by mapping source and target categories option.</li> <li>This will allow us to map an existing tag on the VMware side to a Prism Central category on the  Nutanix side. Some of these should be familiar from the earlier lab setup!</li> <li> <p>Click the Add Mapping button to proceed.</p> <p></p> </li> </ul> </li> <li> <p>On the Source Category side click the box to open and you should see an existing tag for  Shared Move VMs: Local Backups, select that and move to the next step.</p> <p></p> </li> <li> <p>Now on the Target Category side drop down the list and type Backup in the search field.  It will return an option for AppFamily: Backup select this category. This category will map your  VM into a Protection Policy that has automatically been created for you.</p> <p></p> </li> <li> <p>Click the +Add Mapping option and repeat the same steps on the category</p> <ul> <li>Map the Source Category side to the existing tag for Shared Move VMs: Local Backups.</li> <li>On the target side, search for a category with the following string User##:Production and  choose the one that corresponds to your student number. This maps to the Storage Policy created earlier.</li> <li>Click Next to proceed.</li> </ul> <p></p> </li> <li> <p>On the Summary page, click Save and Start. Selecting Save only saves the plan. Save and start  will save the plan and start the Migration validation.</p> <ul> <li>Note: If you get a migration error upon saving the plan, wait around 30 seconds and try  again.</li> </ul> <p></p> </li> </ol>"},{"location":"AdvMigrate/expadvplan/","title":"Explore Advanced Migration Plan","text":"<p>You have now created your new advanced  migration plan and will explore a few of the features that were configured in the previous steps.</p> <ol> <li> <p>In Move, locate your new plan and click on the Status section of User##-vm-Plan2</p> <p></p> </li> <li> <p>You are now looking at the details page of your advanced migration plan. You will notice the  status will change from Seeding Data to Ready for Cutover depending on how fast you got to  this page. The seeding goes fast as the single VM being migrated is very small. If several lab users  are also creating plans and migrating VMs, this can take a few minutes due to queueing.</p> <ul> <li> <p>Did you know that you can adjust some of the settings of a VM being migrated before it is failed over?    Lets dig into that a bit and see what is possible. Click on the VM Configurations option shown    in the image below.</p> <p></p> </li> </ul> </li> <li> <p>You are now looking at the VM Configurations screen for the VM you're migrating. You can modify  these on a VM by VM basis. There are a handful of configurations items that can be modified.  By default the target settings mirror the source settings for each VM. Explore them below then  click Close or Apply and move to next step.</p> <ul> <li>Name : Adjust VM name</li> <li>Power State : Choose On/Off</li> <li>vCPU(s) : Adjust number of CPU (sockets) assigned</li> <li>Cores per vCPU : Adjust cores per vCPU</li> <li> <p>Memory : Adjust memory assigned to VM</p> <p></p> </li> </ul> </li> <li> <p>You should now be back on the details view of your migration plan. Lets explore what is possible  with the Test VM feature within Move. First select the VM in the plan with the checkbox, then  click the drop down option for Test Action and click on the Create Test VM option.  A few things of note:</p> <ul> <li>This process will create a Test VM on the target cluster that is connected to the Isolated Test    Network that was configured when the plan was setup.</li> <li>This network must be isolated to avoid any interuptions to the running production VM still    on the source cluster.</li> <li>This will prevent an IP conflict, data being updated on test VM, and any other distruptive situations.</li> <li> <p>This test function is to ensure a VM or workload will migrate successfully before the actual migration.    This allows you to build confidence and allows for any issues to be corrected prior to the production    migration.</p> <p></p> </li> </ul> </li> <li> <p>You should now see a pop-up window asking to confirm the creation of the Test VM. Go ahead and click  Continue to proceed.</p> <p></p> </li> <li> <p>Next, switch back to your Prism Central instance to look for your newly created Test VM under  Infrastructure &gt; Compute &amp; Storage &gt; VMs. Look for your Test VM that should have the name of the VM being  migrated with -MoveTest added to the end of the name.</p> <p></p> </li> <li> <p>Now that your Test VM is created and ready, you can select the VM within Prism Central.</p> </li> <li> <p>From the Actions menu above, choose Update VM to look at the VM settings within Prism Central.</p> <ul> <li>When the First page of the VM settings opens, click the Next button to advance.</li> <li>On the Resource page of the VM you can view the network configuration and confirm the VM NIC is    attached to the secondary subnet.</li> <li> <p>Click Cancel and move to the next step.</p> <p></p> </li> </ul> </li> <li> <p>Switch back to your Move instance to clean up the Test VM that was created.</p> <ul> <li>Select the VM in your plan with the checkbox.</li> <li> <p>From the Test Actions drop down menu, choose Remove Test VM to start the clean up of the temporary  test VM.</p> <p></p> </li> </ul> </li> <li> <p>You should be prompted with a pop-up to confirm the deletion of the Test VM. Click on the red Continue  button to have Move clean up (delete) the VM.</p> <p></p> </li> <li> <p>You should now see that an Action was started to remove the Test VM, and the status of your Migration  Place will show its removing the test VM.</p> <p></p> </li> <li> <p>You have now completed the exploration of some of the advanced options within a Move Migration Plan  and can advance to the next section and Migrate the VM.</p> </li> </ol>"},{"location":"AdvMigrate/migratescale/","title":"Migrate at Scale","text":""},{"location":"AdvMigrate/migratescale/#migrate-at-scale-with-nutanix-move","title":"Migrate at Scale with Nutanix Move","text":"<p>You have now performed a basic migration  of a VM and another utlizing some of the advanced features within Nutanix Move.  This has prepared you for many questions and situations that are common in migrations. In this segment we will now explore what it will be like to utilize Move for larger scale migrations.</p> <p>Armed with the knowledge you have already learned and your past experiences you will be guided  on how to utilize Move regardless if its a couple of VMs or thousands.</p> <ol> <li> <p>Nutanix Move is deployed as a virtual appliance as you have been using it. A single Move appliance  is capable of moving all of the workloads for most customers migrations.</p> <ul> <li>There are a few scenarios where an organization might need to utilize multiple Move appliances.</li> <li>If there were network access or segmentation that prevented a single appliance from connecting to     all needed sources and targets. This might require multiple appliances to live in the different network     zones.</li> </ul> </li> <li> <p>How many migration plans within a Move appliance should an organization use?</p> <ul> <li>As many as the customer needs or wants based on their size, complexity, and change windows available as  an example.</li> <li>There will be a balance that makes sense thats in between just having a couple of huge groups  and a plan for each individual VM.</li> <li>It likely makes sense for the different tiers and pieces of an application to be moved together in  most cases. So grouping the app, web, and data tiers together and only requiring a single change window  would makes sense to most. Depending on the scale this can be done with a single plan or might require  multiple.</li> </ul> </li> <li> <p>If an organizations is creating and using large migration plans does that mean then must cut them all over together?</p> <ul> <li>No, while an entire plan can be failed over as a whole. Move allows as little as a single VM within a plan to be cutover or groups of VMs.</li> </ul> </li> <li> <p>To give an example of some of these scenarioes, we have created a click-through demo for this section of  the lab.  Click here to launch the Move at Scale Demo.</p> <p>Come back to this lab guide when you've completed the demo.</p> </li> </ol>"},{"location":"AdvMigrate/migratetakeaway/","title":"Migrate Takeaways","text":"<ul> <li>Nutanix Move is a cross-hypervisor mobility solution to move VMs with minimal downtime.</li> <li>Nutanix Move supports mobility from multiple sources and destinations, including ESXi, Hyper-V, AWS,  Azure, and AHV. For a full list of supported migrations, please see the user guide</li> <li>Nutanix Move now also supports migrating file shares from non-Nutanix shares to Nutanix Files.</li> <li>Advanced migration with Move can filter and apply categories for immediate placement into policies.</li> <li>Prism Central policies such as Security Policies, Protection Policies, Storage Policies, and more can    be setup in advance to immediately start protecting VMs when they're migrated.</li> <li>Multiple migration plans make large migrations possible.</li> <li>Playbooks provide easy automation for event notification.</li> </ul> <p>CONGRATULATIONS on your achievements so far!</p>"},{"location":"AdvMigrate/migratevm/","title":"Migrate the VM Advanced Edition","text":"<p>You should move back to the console of your Move instance. We will now cutover the second plan  and verify that our advanced settings are configured.</p> <ol> <li> <p>Find and click on your second migration plan created earlier. The status should show Ready for  Cutover like the image below.</p> <p></p> </li> <li> <p>To perform the cutover, select the VM and Click Cutover. Click Continue to confirm.</p> <p></p> </li> <li> <p>You can monitor the cutover in status and details.</p> <p></p> </li> <li> <p>Once the cutover is complete, Migration Status will say Completed and Details will provide a  link to View Target VM.</p> <p>DO NOT CLICK ON View Target VM. This will take you to Prism Element, but we will log back into Prism   Central.</p> <p></p> </li> <li> <p>Login to Prism Central</p> <ul> <li>username - PC login adminuser##@ntnxlab.local or adminuser##</li> <li>password - PC password from Connection Details</li> </ul> </li> <li> <p>Navigate to Infrastructure &gt; Compute &amp; Storage &gt; VMs</p> <p></p> </li> <li> <p>Look for your migrated VM in the main page or search in the search bar. Click on the VM name  to open its summary page.</p> <p></p> </li> <li> <p>Once on the Summary page for the VM, click on the Categories option at the top of the summary page.  This will confirm that the VMware tag was migrated over to the assigned Prism Central Categories and in  turn the associated policies assigned to this VM as planned.</p> <ul> <li>Looking at the box on the left represents the VM name that was migrated and your looking at the details for.</li> <li>The middle box shows the categories assigned to this VM. In this case the AppFamily: Backup and     User##: Production categories that were mapped when the VM was migrated.</li> <li> <p>The box on right shows any policies assigned to this VM based on the categories assigned to it. This one has a backup policy and a storage policy assigned to it. This places the VM automatically into the  Local-Backup-Daily Protection Policy and the user-##-sp Storage Policy.</p> <p></p> </li> </ul> </li> </ol> <p>CONGRATULATIONS!! You just completed a migration of your VM using several of the advanced features with  Nutanix Move from ESXi to AHV. </p> <p>Next, let's explore using Move to migrate at scale.</p>"},{"location":"DR/clustersetup/","title":"Clusters Setup","text":"<p>Prior to any DR setup, you will need to prepare the clusters:</p> <ul> <li>To enable Disaster Recovery</li> <li>Connecting both source and target clusters in a new Availability Zone.</li> </ul> <p>Note</p> <p>The following steps have already been performed by the instructor, as enabling Disaster  Recovery and configuring the Availability Zone are one-time operations per Prism Central instance.</p>"},{"location":"DR/clustersetup/#enable-disaster-recovery","title":"Enable Disaster Recovery","text":"<ol> <li> <p>Login to source Prism Central.</p> </li> <li> <p>At the bottom of the left panel, click on Prism Central Settings. A blade on the left will display     the settings.</p> <p></p> </li> <li> <p>Under Settings, look for Setup and Enable Disaster Recovery. Click on it.</p> <p></p> </li> <li> <p>Ensure the Prechecks successfully has a green tick beside it and on the Enable button,    click twice to turn on Nutanix Disaster Recovery. Give it a minute or two to enable the feature.</p> <p></p> </li> <li> <p>You should now see that Nutanix Disaster Recovery enabled on the same screen.</p> <p></p> </li> <li> <p>Now repeat steps 1-4 to turn on Nutanix Disaster Recovery in the target cluster.</p> </li> </ol>"},{"location":"DR/clustersetup/#create-new-availability-zone","title":"Create New Availability Zone","text":"<ol> <li> <p>Login to source Prism Central.</p> </li> <li> <p>On the dashboard on the left, turn on Administration drop-down menu.</p> <p></p> </li> <li> <p>Click on Availability Zones.</p> </li> <li> <p>Click on Connect to Availability Zone.</p> <p> </p> </li> <li> <p>At Select Type, select Physical Location.</p> <p> </p> </li> <li> <p>To connect to your target cluster, input the Prism Central credentials as shown below. Click Connect    to proceed.</p> <p></p> </li> <li> <p>At the top banner, you should also see a notification that shows connecitivy to be successfully.</p> <p></p> </li> <li> <p>Give it a minute or two and once the connection is established, you should see the target Prism Central  connection as below.</p> <p></p> </li> <li> <p>That's conclude the setup.</p> </li> </ol> <p>Note</p> <p>Should you have a three way DR scenario, you can add more Prism Central connections  with the same steps as shown above.</p>"},{"location":"DR/overview/","title":"Nutanix Disaster Recovery Overview","text":"<p>Nutanix Disaster Recovery (DR) is a comprehensive solution designed to protect and recover critical workloads and data in the event of a disaster. It is part of the Nutanix Enterprise Cloud platform, which integrates compute, storage, and networking into a single, scalable solution. Nutanix DR leverages the platform's inherent capabilities to provide efficient, reliable, and cost-effective disaster recovery.</p> <p></p>"},{"location":"DR/overview/#environment-information","title":"Environment Information","text":"<ul> <li>In this lab, you will using your assigned on-prem cluster and NC2 on AWS clusters to perform the disaster recovery. There will be assigned VMs found in your clusters in the form of:</li> <li>User01-MYSQL...User01-WebServer</li> <li>User02-MYSQL...User02-WebServer</li> <li> <p>User03-MYSQL...User03-WebServer</p> </li> <li> <p>The instructor should assign a User number to each participant. The lab guide will reference entity  names with User##, which should be substituted for their specific number (ex., User01).</p> </li> </ul> <p>Note</p> <p>You should refer to the Cluster Lookup Sheet if you are unsure of which clusters you are assigned to.</p>"},{"location":"DR/pp/","title":"Protection Policies","text":""},{"location":"DR/pp/#creating-protection-policies","title":"Creating Protection Policies","text":"<ol> <li> <p>On the left panel, ensure your app switcher is turned to Infrastructure.</p> <p></p> </li> <li> <p>Click Data Protection.</p> <p></p> </li> <li> <p>Click Create Protection Policy</p> <p></p> </li> <li> <p>Name your policy such as UserXX-PP where XX is the assigned user number in the Cluster Lookup    Sheet. </p> <p></p> </li> <li> <p>Under Primary Location.</p> <ul> <li>Location: Local AZ</li> <li>Cluster: select the assigned cluster</li> <li>Click Save</li> </ul> <p></p> </li> <li> <p>Under Recovery Location.</p> <ul> <li>Location: select the assigned AWS cluster</li> <li>Cluster: select the NC2 cluster</li> <li>Click Save.</li> </ul> <p></p> </li> <li> <p>Click + Add Schedule and fill in the following retention and schedule.</p> <ul> <li>Protection Type: leave it as Asynchronous</li> <li>Take Recovery Point Every: 15 mins</li> <li>Retention on Local AZ: 12 hours</li> <li>Retention on recovery site: 12 hours</li> <li>Click Save Schedule.</li> </ul> <p></p> </li> <li> <p>Click Next to proceed.</p> <p></p> </li> <li> <p>In the category section. Filter with the DR keyword, search your pre-created categories.    Check the tickboxes besides the VMs and Click Add</p> <p></p> </li> <li> <p>Click Create.</p> <p></p> </li> <li> <p>Head to the Prism Central Console in the NC2 cluster, and look at the Protection Policies tab.     You will notice an identical policy created there. </p> <p>Info</p> <p>You might have to wait for up to 7-10 mins for the first recovery point to be created. In the meantime it's best for a coffee break </p> <p></p> </li> <li> <p>Once you see the VM Recovery Points being created, you can start creating recovery policies.</p> <p></p> </li> </ol>"},{"location":"DR/rp/","title":"Recovery Plans","text":""},{"location":"DR/rp/#creating-recovery-policies","title":"Creating Recovery Policies","text":"<ol> <li> <p>Login to your assigned on-prem cluster.</p> </li> <li> <p>Under Data Protection, click *Recovery Plans.</p> <p></p> </li> <li> <p>Click Create New Recovery Plan</p> <p></p> </li> <li> <p>Input the following information:</p> <ul> <li>Recovery Plan Name: UserXX-RP where XX is your assigned user number</li> <li>Recovery Plan Description: give it a meaningful description</li> <li>Primary Location: Local AZ (on-prem cluster)</li> <li>Recovery Location Nc2 cluster</li> <li>Click Next. (bottom right of the screen)</li> </ul> <p></p> </li> <li> <p>Click +VM(s).</p> <p></p> </li> <li> <p>Do the following:</p> <ul> <li>VM Name: type in your User-XX vm names</li> <li>Cick on the checkbox to select all your VMs</li> <li>Click Add to proceed.</li> </ul> <p></p> </li> <li> <p>Ensure you check all the boxes next to your VMs.     Click Next at the bottom right side of your screen.</p> <p></p> </li> <li> <p>Select the following options:</p> <ul> <li>Network Type: Non-Stretched networks</li> <li>Local AZ(Primary): primary for both production and test failback virtual network.</li> <li>Recovery: User VM Network for both production and test failover virtual network.</li> <li>Click ** Create** at the bottom right side of the screen.</li> </ul> <p></p> </li> <li> <p>Login to NC2 Prism Central and you shall see the identical Recovery Plan. </p> </li> <li> <p>Congratulations! You have successfully created a recovery plan!</p> </li> <li> <p>Let's proceed to the next section to test those plans!</p> </li> </ol>"},{"location":"DR/takeaway/","title":"Takeaways &amp; Conclusions","text":"<p>Nutanix Disaster Recovery is design to take away complexity for customer for their BCDR requirements. Built-in as part of Nutanix Entperprise Cloud, it's simple to operate and once set, makes it flexible  to change should business requirements sway.</p> <p>As part of this exercise, you will observe the following:</p> <ul> <li>Nutanix designs DR for multiple RPO and RTO scenarios through protection policies.</li> <li>Nutanix DR supports both Asychronous and Synchronous scenario.</li> <li>With NC2 on AWS solution, you can create Synchronous replication across both AZs, saving both costs  and operations constraints against traditional on-prem DR. </li> <li>On a Hybrid-Cloud scenario, you have tested the seamless integration between an on-prem clusters and a NC2 clusters in AWS.</li> <li>Nutanix DR offers low cost Live Migration features with a L2-Stretched network that can be build easily  with Nutanix Flow Virtual Networking.</li> <li>Nutanix IP offers IP preservations</li> </ul>"},{"location":"DR/takeaway/#conclusions","title":"Conclusions","text":"<p>Congratulations on completing the labs! I hope with Migration and DR labs, your knowledge through these hands-on experience workshop can help equipped yourself with more confidence when engaging a potential  customer on these topics.Addressed some of the prospects concerns and also boost up their confidence when  migrating to Clouds.</p>"},{"location":"DR/testp/","title":"Testing your Recovery Plan","text":"<p>Now that the protection policies and the recovery plans are successfully confirmed. We will take those test plans to work.</p> <p>Info</p> <p>The following tests are simulating site failures occuring in on-premises clusters. </p> <ol> <li> <p>Login to Prism Central.</p> </li> <li> <p>On the Infrastructure app switcher, go to Data Protection &gt; Recovery Plans</p> </li> <li> <p>Nutanix Disaster Recovery features a set of tools to simulate a DR scenario without necessarily disrupting a production workflow. You will notice a set of options at the top right side of the screen.</p> <p></p> <ul> <li>Click on Validate.</li> <li>Click Proceed.</li> <li>Click Validate (At this stage, there will be a validation of various setups such as software     licensig, networking setup and etc)</li> </ul> <p></p> <ul> <li>Click Close once the validation is completed as above.You should also see the Status shown     Succeeded the the Execution Reports.</li> </ul> </li> <li> <p>Next, Click on Test button.</p> <p></p> <ul> <li> <p>Click Test. At this stage, there will be test VM entities being created from the recovery points   that was setup in protection plans. Thesed test VM entities simulate an actual failover when is there a site failure in the Primary site.</p> </li> <li> <p>At the same time you should see under the Status bar Succeeded.</p> </li> </ul> </li> <li> <p>Exit Recovery Plan window annd to Compute &gt; VMs</p> <p></p> </li> <li> <p>On the right side of your screen, you should see the test VM entities, do a search on your User## if you do not see it.</p> <p></p> </li> <li> <p>Go to Data Protection &gt; Recovery Plans. Click on your recovery plan. We are going to clean up the test entities. Click on  Clean-up Test Entities.</p> <p></p> </li> <li> <p>Go to Compute &gt; VMs and you should see the test VM entities being cleaned up.</p> <p></p> </li> </ol>"},{"location":"DR/testp/#failover-testing","title":"FailOver Testing","text":"<p>Now we will perform an actual failover and failback operation.</p> <p>Info</p> <p>You can login in simutaneously to both Prism Centrals to observe the behaviour.</p> <ol> <li> <p>Login to NC2 Prism Central.</p> </li> <li> <p>Data Protection &gt; Recovery Plans.</p> </li> <li> <p>Go to your recovery plan and click on Failover</p> <p></p> </li> <li> <p>Select Planned Failover and click on Failover.</p> <p></p> </li> <li> <p>Type Failover. Click Failover.</p> <p></p> </li> <li> <p>Under Compute &gt; VM. Observe the machines as they failover.</p> </li> <li> <p>In under 30 seconds depending on how many are triggering the same exercise as you. You should  see a successful failover.</p> <p></p> </li> <li> <p>Login to on-prem Prism Central and you will observe that your UserXX-MYSQL and UserXX-WebServers  are longer in the clusters.</p> </li> </ol>"},{"location":"DR/testp/#failback","title":"Failback","text":"<p>Note</p> <p>To perfom a failback process, you need to login to on-prem cluster Prism Central.</p> <ol> <li> <p>Login to On-prem cluster Prism Central.</p> </li> <li> <p>Repeat steps 1-8 in the Failover instructions to perform the failback recovery.</p> </li> <li> <p>In the meanwhile stay on Compute &gt; VM properties page to observe the failover process!</p> </li> <li> <p>Congratulations!! You have finally complete the labs!!</p> </li> </ol>"},{"location":"DR/testp/#failover-unplanned","title":"Failover - Unplanned","text":"<p>Info</p> <p>Due to time constraints, I have intentionally leave this as an optional lab. You can try to attempt the lab through an Unplanned Failover.</p> <ol> <li> <p>Repeat steps 1-8 in FailOver section.</p> </li> <li> <p>Select Unplanned Failover and Recover from latest Recovery Point</p> <p></p> </li> </ol>"},{"location":"Day2/capacityp/","title":"Capapcity Planning","text":""},{"location":"Day2/capacityp/#overview","title":"Overview","text":"<p>In this section, you will learn how to use the Capacity Forecast and Planning feature to get hardware  recommendations to extend the capacity runway and plan for future workloads.</p> <p>Nutanix Cloud Manager comes with built-in machine learning (called X-Fit and pronounced cross fit) that  is constantly analyzing and learning how the running workloads consume compute and storage capacity. T his machine learning provides actionable signals that the admin can then take action on. One of the signals  it provides is the \u201ccluster runway\u201d number, which will forecast how well the existing capacity will meet  the demands of the business, based on predicted growth rates that are calculated from past growth patterns.</p> <p>This same engine also enables admins to plan for future expansion, by allowing users to create planning  scenarios based on their needs. In both cases (to meet existing runway needs or to plan for future  workloads), Nutanix Cloud Manager provides a simple-to-use, yet powerful tool that will provide hardware  recommendations to meet the business needs.</p> <p></p>"},{"location":"Day2/capacityp/#walkthrough-demo","title":"Walkthrough Demo","text":"<p>Here is the link to the guided walkthrough to demonstrate the feature in action.  When you've completed this guided walk-through, come back to the lab manual.</p>"},{"location":"Day2/iam/","title":"Identity and Access management (IAM)","text":"<p>Identity and Access Management (IAM) is an authentication and authorization feature that leverages  fine-grained Role-Based Access Control (RBAC) along with Authorization Policies. IAM enables users to  utilize system-defined roles or create custom roles based on granular operations and permissions.</p> <p>In this section, you will learn how to leverage system roles, assign them to a user, and observe  their functionality in action.</p>"},{"location":"Day2/iam/#identity-and-access-management-fundamentals","title":"Identity and Access Management Fundamentals","text":""},{"location":"Day2/iam/#overview-of-the-iam-interface","title":"Overview of the IAM Interface","text":"<p>IAM is managed through the Admin Center of Prism Central.</p> <ol> <li> <p>Login to Prism Central using adminuser## and the PC password from the Cluster Lookup sheet.</p> </li> <li> <p>Navigate to the App Switcher section in the top left of Prism Central. Click Admin Center in the  App Switcher.</p> <p></p> </li> <li> <p>Click IAM in the Admin Center Dashboard.</p> <p></p> </li> <li> <p>In the Authorization Policies section, we can see some system-defined policies. System-defined     policies were previously referred to as Role Mappings in earlier versions of Prism.</p> <p>Info</p> <p>The Prism Admin and Prism Viewer policies can be duplicated (but not edited or deleted), the Super  Admin policy cannot be duplicated. However, you can create a new authorization policy that incorporates the Super Admin role.</p> <p></p> </li> <li> <p>The Roles section provides an overview of both built-in and custom roles, including details such as     the role name, description, accessible services and entities, and the last updated date.    System-defined roles can be duplicated or added to an authorization policy but cannot be modified or deleted. The Create Role button allows you to create a new role from scratch.</p> <p></p> </li> <li> <p>The Identities tab gives a view of local users, imported users, and user groups. Imported users are  users imported from Active Directory, Open LDAP, and SAML Identity Providers.</p> <p></p> </li> <li> <p>The IdP Configuration tab displays the available identity provider (IdP) options. You can add an  Active Directory, OpenLDAP-based provider, or a SAML identity provider.Additionally, you can configure Common Access Card (CAC) authentication. The Download Metadata option allows you to obtain an XML file that describes Prism Central, which can then be uploaded to the identity provider.</p> <p></p> </li> </ol>"},{"location":"Day2/iam/#delegating-with-authorization-policies","title":"Delegating with Authorization Policies","text":"<p>Consider an IT organization with a IT Operator Role. The IT Operator has limited permissions, allowing  them to view VMs, power them on, and revert them. These actions are all limited to VMs within a specific  category called User01:Production. Now, let\u2019s explore how to utilize system-defined roles to manage these  tasks.</p> <p>Prism has a rich set of roles that come predefined. e.g: VM Operator, Network Admin, Prism Admin, Prism  Viewer.</p> <ol> <li> <p>Login to Prism Central using adminuser## and the PC password from the Connection Details page.</p> </li> <li> <p>Navigate to the App Switcher section in the top left of Prism Central. Click Admin Center in the App Switcher.</p> </li> <li> <p>Click IAM in the Admin Center Dashboard.</p> </li> <li> <p>Click the Roles Tab.</p> </li> <li> <p>Search for the Role Name: Virtual Machine Operator</p> <p></p> </li> <li> <p>Select the Role and Click Actions.</p> </li> <li> <p>Select Add Authorization Policy.</p> <p></p> </li> <li> <p>Click the Pencil icon next to Virtual Machine Operator Policy and rename it to \"Virtual Machine      Operator User## where ## is your assigned number. This is a shared cluster, so be sure to rename      the policy.</p> <p></p> </li> <li> <p>You can view the list of operations which are allowed for this role.</p> <p></p> </li> <li> <p>Click Next, when you are ready to proceed to define the scope.</p> </li> <li> <p>You can choose between Full Access (all entity types and instances) or Configure Access (select      specific entity types and instances). Since we are filtering by User##:Production where ## is your      assigned number, complete the following steps:</p> <pre><code>- Select **Configure Access** : **Select entity types and instances**.\n- Select **All Entity types**\n- Choose **In Category** in Filters field and **Search for the \"User##:Production\" where ## is \nyour assigned number**.\n- In this example we will search for User01:Production Category\n\n![](./img/d11.png)\n</code></pre> </li> <li> <p>Click Next, when you are ready to proceed to Assign Users</p> </li> <li> <p>Let's Select ntnxlab(AD) and select the AD user operator##@ntnxlab.local.</p> <p></p> </li> <li> <p>Click Save. You should see a message \"Policy created Successfully\" when its successful.</p> </li> </ol>"},{"location":"Day2/iam/#authorization-policy-verification","title":"Authorization Policy Verification","text":"<ol> <li> <p>Now, let's login to Prism Central as the AD user operator##@ntnxlab.local using the PC  password from the Connection Details page.</p> </li> <li> <p>In the Infrastructure Dashboard, Expand Compute &amp; Storage , Click VMs.</p> <p></p> </li> <li> <p>The VM's belonging to the Category User##:Production will be listed here.</p> <p></p> </li> <li> <p>Let's select a VM and click Actions.</p> </li> <li> <p>We can see that the user can perform only limited operations such as Update, Power On, and  Create Recovery Point.</p> <p></p> </li> </ol>"},{"location":"Day2/keytakeaways/","title":"Takeaways &amp; Conclusions","text":"<p>Here are some of the key takeaways from this lab:</p> <ul> <li>Day 2 and day-to-day management with AHV is simple.</li> <li>Common tasks performed in ESXi are also possible in AHV.</li> <li>Nutanix Guest Tools can be deployed at scale using familiar tools</li> <li>Rich Identity and Access Mananagement make administrator access and  delegation possible for larger teams.</li> <li>Automation, categories, and policies in Nutanix Cloud Manager ease the burden of individual  workload management.</li> </ul>"},{"location":"Day2/keytakeaways/#conclusions","title":"Conclusions","text":"<p>Congratulations on completing this lab. Migrating to Nutanix and especially to AHV is an important  subject to our partners and customers. It is especially top of mind given the recent changes in the  virtualization space. The following is a summary of what you should take away from this bootcamp:</p> <ul> <li> <p>You should be better prepared to have a conversation around a migration to Nutanix. There are far more      details to discover, discuss, and plan for beyond just how to execute the migrating a VM from VMware to AHV.</p> </li> <li> <p>You should also have an understanding of some of the tools and processes you can use to do a migration.      Note the tools chosen may vary based on the size, complexity, requirements, and constraints of the project.</p> </li> <li> <p>You've learned how to utilize Nutanix Move to perform VM and file share migrations. Move does simplify      the process of these types of migrations, but some workloads may require additional tools.</p> </li> <li> <p>You also learned how the Nutanix Cloud Platform can easily help you manage your virtual infrastructure      day-to-day.</p> </li> </ul> <p>We hope this helped answer questions you have about migration to Nutanix. For those of us fortunate  enough to be in the industry a while, we can see how this migration is much easier than the physical to virtual migrations of previous years.</p> <p>Remember, the Nutanix Services organization is also well-versed in all types of migrations and can jump  in to lend a hand with many aspects.</p>"},{"location":"Day2/ngt/","title":"Nutanix Guest Tools","text":""},{"location":"Day2/ngt/#overview","title":"Overview","text":"<p>NGT is short for Nutanix Guest Tools and is made up of several pieces. You can use any combination  of these NGT pieces with the device drivers being the most important one.</p> <ul> <li>Device Drivers</li> <li>VSS Driver (Volume Shadow Copy Service)</li> <li>Self Service Backup</li> </ul> <p>NGT also reports back details to Prism such as which operating system is running and other information.</p> <p>At a minimum, the device drivers portion of NGT must be installed before migrating a VM to AHV, or  during new VM OS install. Other NGT functions can be enabled or disabled at any time.</p> <p>Note</p> <p>You will be installing NGT into the Linux VM migrated from ESXi to your AHV cluster earlier. Move only  installed the device drivers and not the full NGT package.</p>"},{"location":"Day2/ngt/#installing-ngt-from-prism-central","title":"Installing NGT from Prism Central","text":"<p>You will now install NGT in your migrated VM.</p> <p>You should be logged into your Prism Central instance to proceed with the following steps.</p> <ol> <li> <p>Click on navigation to expand the menu. Click on Compute &amp; Storage to expand. Select VMs to see  the list of VMs available on the PC instance.</p> <p></p> </li> <li> <p>Find your VM named XXX-User## where XXX is the preface provided to you by your instructor and select  it by checking the box to the left.</p> <p></p> </li> <li> <p>Next, click on the Actions drop-down menu above, scroll down the menu, and click on Install NGT.</p> <p></p> </li> <li> <p>An Install NGT window will open. Select the checkboxes to enable both SSR &amp; VSS. Next, check the  radio box to Restart as soon as the install is completed.</p> <p></p> </li> <li> <p>Click Confirm &amp; Enter Password to proceed.</p> </li> <li> <p>Next, provide local credentials to the guest OS so the NGT install process can proceed. Enter the  credentials below and click Done.</p> <ul> <li>Username: rocky</li> <li> <p>Password: nutanix/4u</p> <p></p> </li> </ul> </li> <li> <p>The process to start installing NGT in your VM has begun. If you would like to monitor the progress,  you can click on the recent tasks icon on the top menu of Prism Central to watch the status. You will  notice three tasks were created for this process.</p> <p></p> </li> <li> <p>If there are too many tasks starting because of the number of participants in the boot camp, you can  click on the View All Tasks option at the bottom of the tasks window. This will take you to the log of  all tasks of the cluster and you can locate and monitor the tasks for your VM name.</p> <p></p> </li> <li> <p>Once all the tasks for your VM have finished, you can navigate back to the VM list and find your VM.</p> </li> <li> <p>Find your VM in the list and look at the NGT Status column. It should now show that NGT is installed  with the latest version or recommend an upgrade if available.</p> <p></p> </li> </ol>"},{"location":"Day2/overview/","title":"Day Two Operations","text":"<p>Now that we have our workloads, VMs, and file shares moved over to Nutanix, let's explore Day 2 operations and management with Nutanix Prism Central and AHV.</p>"},{"location":"Day2/overview/#key-objectives","title":"Key Objectives","text":"<p>As part of this section, you will:</p> <ul> <li>Install NGT.</li> <li>Learn about IAM and user roles.</li> <li>Learn how to automate routine tasks with playbooks.</li> <li>Learn how to continuously and proactively monitor the environment with reports, capacity planning, and inefficient VM detection.</li> </ul> <p>Note</p> <ul> <li>Expected Module Duration: 25 minutes</li> </ul>"},{"location":"Day2/reports/","title":"Reports","text":""},{"location":"Day2/reports/#overview","title":"Overview","text":"<p>The report management feature enables  you to configure and deliver historical reports containing detailed information about infrastructure  resources across Nutanix-managed and non-Nutanix-managed environments. This tool provides valuable  operational insights directly to your mailbox based on the schedule you define.</p>"},{"location":"Day2/reports/#key-capabilities","title":"Key Capabilities","text":"<ul> <li>PDF and CSV Report Generation</li> <li>Report Scheduling</li> <li>18 Predefined Out-of-the-Box Reports</li> <li>Import and Export Reporting Configuration across PCs</li> </ul>"},{"location":"Day2/reports/#create-a-report","title":"Create a Report","text":"<p>An IT Administrator seeks data about their production infrastructure in the last 6 months to gain insights  into its utilization efficiency. Let\u2019s explore how reports can be utilized to address this scenario.</p> <ol> <li> <p>Login to Prism Central using adminuser## and the PC password from the Connection Details page.</p> </li> <li> <p>Navigate to the App Switcher section in the top left of Prism Central. Click Intelligent Operations  in the App Switcher.</p> </li> <li> <p>Select Reports from the Intelligent Operations Dashboard.</p> </li> <li> <p>We can view the list of pre-defined system reports as well as custom reports.</p> <p></p> </li> <li> <p>We will look for Cluster Usage report based on our use case. Enter Cluster Usage in the filter by field.</p> <p></p> </li> <li> <p>Select the Cluster Usage Summary and click Actions.</p> <p></p> </li> <li> <p>This report is pre-defined system Report. A System report, can be run, scheduled, shared and cloned to  make changes. Now, Let's select Run.</p> </li> <li> <p>Provide a name in the Report Instance Name field.</p> </li> <li> <p>Choose the cluster in the Entity field.</p> </li> <li> <p>Choose Last 24 Hours in the Time Period for Report.</p> </li> <li> <p>Select your Time Zone.</p> </li> <li> <p>Choose PDF as the Report Format.</p> <p> </p> </li> <li> <p>Click Run.</p> </li> <li> <p>Click the Generated Reports to view the Report.</p> </li> <li> <p>Click PDF next to the Cluster Usage Summary Report Name.</p> </li> <li> <p>The Report is downloaded in PDF format.</p> </li> <li> <p>Here is an example of what the report would look like.</p> <p> </p> </li> </ol>"},{"location":"Day2/vmdetect/","title":"Inefficient VM Detection","text":"<p>In this section, you will learn about the Resource Inefficiency Detection feature and how to  view inefficient VMs within the UI.</p> <p>The X-Fit machine learning algorithm looks at a VM\u2019s historical data to find an expected baseline and  future prediction, taking into account seasonality patterns. The baseline and prediction data is combined  with the last 21 days of usage to determine the expected usage for a VM, and will mark the VM as  inefficient based on defined thresholds. For example, if a VM\u2019s average memory usage over the past  21 days was less than 20% for the majority of the time (&gt;99.5% of the time), the VM will be marked  as overprovisioned on memory.</p> <p>In the previous section, we extended the runway by getting a hardware recommendation. Another way to  extend the runway is to optimize the current workloads, by addressing the inefficiencies.</p> <p>The 4 types of inefficiency are:</p> <ul> <li>Overprovisioned - a VM that is over-sized and wasting resources which are not needed</li> <li>Constrained - A VM that does not have enough resources for the demand and can lead to performance  bottlenecks.</li> <li>Bully - a VM that consumes too many resources and causes other VMs to starve</li> <li> <p>Inactive - a VM that has been powered off or has minimal I/O and network traffic</p> <p></p> </li> </ul>"},{"location":"Day2/vmdetect/#walkthrough","title":"Walkthrough","text":"<p>Here is the link to the guided walkthrough to demonstrate the feature in action.  When you've completed the guided walk-through, come back to this lab guide.</p>"},{"location":"Migrate/lab%20env/","title":"Environment Details","text":"<p>These bootcamps are intended to be run within the Nutanix Hosted POC (HPOC) environment. Your cluster contains all the necessary images, network, and VMs to complete the exercises.</p> <p>Danger</p> <p>Do not perform any upgrades to the environment, including but not limited to Prism Element (PE), Prism Central (PC), Acropolis Operating System (AOS), Nutanix Cluster Check (NCC), Foundation, any hardware-specific updates (ex. firmware), and any software within any remote sessions (ex. Graylog, Linux packages, PuTTY, Sublime Text).</p> <p>Doing so will negatively impact your lab experience and potentially any other attendees using this cluster.</p>"},{"location":"Migrate/lab%20env/#remote-connection","title":"Remote Connection","text":"<ol> <li>Follow the instructions provided in the email as pre-work prior to the actual day.</li> <li>Follow the instructions provided to get connected either via VPN or #Parallels remote      desktop using the pre-assigned login credentials against your name.</li> <li>Use Google Chrome Incognito mode to connect to the VDI environment.</li> <li>Be patiemt while connecting to the VDI session and note that resizing or changing the VDI     resolution will result in reconnection, so it is not recommended.</li> </ol>"},{"location":"Migrate/lab%20env/#know-before-you-go","title":"Know Before You Go","text":"<ul> <li> <p>Never use the information within screenshots in your environment (ex., IP addresses.)   Screenshots are shown for illustration purposes only.</p> </li> <li> <p>Ignore any IP addresses that resemble 169.254.###.###.</p> </li> <li> <p>Throughout the lab, you will see the usage of ##. Replace the ## with your assigned   number (ex., adminuser01).</p> </li> </ul> <p>For example:</p> <ul> <li>Active Directory user - adminuser01@ntnxlab.local</li> <li>Move VM: User01-Move</li> <li> <p>Desktop VM: Desktop01</p> </li> <li> <p>If instructed to:</p> <ul> <li>SSH (Secure Shell): Use PuTTY within your VDI desktop/session.</li> <li>Remote Desktop, Remote Desktop Protocol (RDP), or Remote Desktop Connection (RDC): Remote     Desktop Connection via Start Menu &gt; Remote Desktop Connection.</li> </ul> </li> <li> <p>If you are presented with a security warning in Chrome, use one of the following methods   to proceed.</p> </li> </ul> <p>Method 1</p> <ol> <li> <p>Click Advanced.</p> <p></p> </li> <li> <p>Click on any blank section within the main browser window.</p> </li> <li> <p>Type \"thisisunsafe\" without the quotes. Note. The text you type will not be visible.</p> <p></p> </li> </ol> <p>Method 2</p> <ol> <li> <p>Click Advanced.      </p> </li> <li> <p>Click Proceed to IP-ADDRESS(unsafe).      </p> </li> </ol>"},{"location":"Migrate/lab%20env/#connection-to-prism-central-pc","title":"Connection to Prism Central (PC)","text":"<ol> <li>Make sure you are connected to your VDI or VPN</li> </ol> <p>note</p> <p>Use CTRL + V to paste between your computer and the VDI (dont use the command key in Mac)</p> <ol> <li> <p>Login to Prism Central by opening the Prism Central link from Connection Details.</p> </li> <li> <p>Ensure the Login screen says Login with your Company ID.    </p> </li> <li> <p>Replace ## with your User #. For example, if your User # is 01, login as adminuser01.    Note that your assigned cluster and the credentials will all map to your name.</p> </li> <li> <p>username - PC username adminuser##@ntnxlab.local or adminuser##</p> </li> <li> <p>password - PC password provided from Connection Details</p> </li> <li> <p>Skip the tour.</p> <p></p> </li> </ol>"},{"location":"Migrate/overview/","title":"Overview","text":""},{"location":"Migrate/overview/#migrate-to-nutanix-cloud-cluster","title":"Migrate to Nutanix Cloud Cluster","text":"<p>Nutanix Move is a cross-hypervisor mobility solution that supports numerous migration paths including:</p> <ul> <li>VMware ESXi (legacy infrastructure or Nutanix) to AHV</li> <li>VMware ESXi (legacy infrastructure or Nutanix) to VMware ESXi on Nutanix</li> <li>VMware ESXi to Nutanix Cloud Clusters (NC2) on AWS</li> <li>VMware ESXi to NC2 on Microsoft Azure</li> <li>VMware Cloud (VMC) on AWS to AHV</li> <li>VMC on AWS to NC2 on AWS</li> </ul> <p>Additional Migration Paths:</p> Additional Migration Paths <ul> <li>Microsoft Hyper-V to AHV</li> <li>Microsoft Hyper-V to VMware ESXi on Nutanix</li> <li>Microsoft Hyper-V to NC2 on AWS</li> <li>AWS EC2 to AHV</li> <li>AWS EC2 to VMware ESXi on Nutanix</li> <li>AWS EC2 to NC2 on AWS</li> <li>Microsoft Azure Cloud to AHV</li> <li>Microsoft Azure Cloud to VMware ESXi on Nutanix</li> <li>Microsoft Azure Cloud to NC2 on Azure</li> <li>Nutanix AHV to Nutanix AHV</li> <li>Nutanix AHV to AWS EC2</li> <li>Nutanix AHV to Microsoft Azure Cloud</li> <li>Nutanix AHV to NC2 on AWS/Azure</li> <li>NC2 on AWS/Azure to Nutanix AHV</li> <li>NC2 on Azure to NC2 on Azure</li> </ul> <p>The following infrastructure have been setup for you:</p> <ul> <li>ESXi clusters</li> <li>Nutanix On-Premise Clusters</li> <li>Nutanix Cloud Clusters on AWS</li> </ul> <p>The details to your cluster assignements are found in the Cluster Look Up Sheet. Please read through the contents carefully and ensure you only access your assigned clusters and workload VMs.</p>"},{"location":"MigrateWLs/migrateplan/","title":"Create a Migration Plan","text":"<p>Once the source and destination are set up, create the migration plan.</p> <ol> <li> <p>Click Create a Migration Plan</p> <p>Note</p> <p>If Create a Migration Plan button is greyed out, wait 2-3 minutes.</p> <p></p> </li> <li> <p>Enter a name for the Plan User##-VM-Plan. Click Proceed.</p> <p></p> </li> <li> <p>Select Source which is ESXi and Target which is Nutanix AHV. Click Next</p> <ul> <li>Select a Source : ESXi or whatever name you gave above</li> <li>Select a Target : Nutanix AHV or whatever name you gave above</li> <li>Target Project : None</li> <li>Target Cluster : Select the destination AHV cluster</li> <li> <p>Target Container : default</p> <p></p> </li> </ul> </li> <li> <p>Select your Linux VM to move, XXX-ECV-User## where XXX is the preface provided to you  by your instructor. Once selected, click Next in the bottom right-hand corner.</p> <ul> <li>There will be two VMs for each student with your student number on them. They have the same name,  except that one has _Tagged added to the end of the name. In this migration plan, be sure to use  the one without tagged in the name.</li> <li> <p>You may need to use the filter and hover over the VMs to see their full names.</p> <p></p> </li> <li> <p>You can safely ignore the yellow warning icon stating \"The VM has a guest OS which     is not supported on ESXi\", since we are migrating to AHV.</p> <p></p> </li> </ul> </li> <li> <p>For Networks, Select primary for the Target Network. Click Next.</p> <p></p> </li> <li> <p>On the VM preparation page, select the options shown and provide the username and password   for the Linux VM.</p> <ul> <li>Preparation Mode - Automatic. Manual mode only migrates data over. VM preparation script and  all OS configuration options will have to be run manually in manual mode.</li> <li>Guest Operations</li> <li>Retain static IP Addresses from source VMs: If VMs have static IPs, they are retained on the    destination. If DHCP is used, like in our case, VMs will get a new IP address on the destination.</li> <li>Uninstall VMware Tools on target VMs: Since we are moving to AHV, we do not need VMWare Tools    installed on the VM.</li> <li>Bypass guest operations on source VMs: Will only do data migration and no guest OS operations.    Keep this unchecked.</li> <li> <p>Credentials</p> <ul> <li>User Name: rocky</li> <li> <p>password: nutanix/4u</p> <p></p> </li> </ul> <p>Note</p> <p>You only need to enter these credentials into the Linux VMs field and can leave the Windows  credentials empty.</p> </li> </ul> </li> <li> <p>On the VM Settings page, keep the defaults and select Next. The fields allow for individual VM  settings to be modified. This includes settings like enabling Memory Overcommit or applying categories  that are present in Prism Central.  </p> <p></p> </li> <li> <p>On the Summary page, Click Save and Start. Selecting Save only saves the plan. Save  and start will save the plan and start the Migration.</p> <p>Note</p> <p>If you get a migration error upon saving the plan, wait around 30 seconds and try again.</p> <p></p> </li> </ol>"},{"location":"MigrateWLs/migratevm/","title":"Migrating the VM","text":"<p>Once the Migration plan has started, it will first validated against the environment.</p> <ol> <li> <p>Verify Plan Validation in the Status section</p> <p></p> </li> <li> <p>Once validation succeeds, the status changes to In Progress. Click In Progress to  monitor the status.</p> <p></p> </li> <li> <p>You can monitor the Migration Status and Details on this page. This should take  about 5-10 minutes. A perfect time to get a cup of \u2615. For curious minds, during this step, Move is preparing the source VM for transfer  by doing tasks like installing Nutanix VirtIO drivers and doing data seeding on the target cluster.</p> <p></p> <p></p> </li> <li> <p>Once the data seeding is complete, the status becomes Ready To Cutover.  It also gives an estimate for cutover time so you can plan the actual cutover.</p> <p></p> <p>If you are on the main page of Move, a blue dot means it is ready for cutover.</p> <p></p> </li> <li> <p>To perform the cutover, Select the VM and Click Cutover. Click Continue to confirm.</p> <p></p> </li> <li> <p>You can monitor the cutover in Migration Status and Details.</p> <p></p> </li> <li> <p>Once the cutover is complete, Status will say Completed and Details will provide a link  to View Target VM.    DO NOT CLICK ON View Target VM. This will take you to Prism Element but we will log back  into Prism Central.</p> <p></p> </li> <li> <p>Login to Prism Central</p> <ul> <li>username - PC login will be adminuser##@ntnxlab.local or adminuser##</li> <li>password - PC password from Connection Details</li> </ul> </li> <li> <p>Navigate to Compute &amp; Storage &gt; VMs</p> <p></p> </li> <li> <p>Look for your migrated VM in the main page or you can search in the search  bar. Make a note of your VMs IP address.</p> <p></p> </li> <li> <p>You will be using the IP address of your migrated VM to connect to a code-server via the browser in the Parallels VDI environment.</p> <p>site_url: http(s)://vmIP:8001</p> <p></p> </li> <li> <p>You will then be able to log into the code-server with the following:</p> <ul> <li>password - Lookup Cluster Sheet</li> </ul> <p>Note</p> <p>All users will use the password regardless of what other passwords you've previously used.</p> <p>You will then be able to access the terminal.</p> <p></p> </li> <li> <p>In the console window, type the \"ls\" command and verify the file is present.</p> <p></p> </li> </ol> <p>CONGRATULATIONS!! You just completed a seamless move of your VM from ESXi to AHV  in a few clicks.</p> <p>Next, if you have time, let's perform another migration with Move and explore  several of the advanced functions that Move offers. Your instructor can help you  determine which steps to take next.</p>"},{"location":"MigrateWLs/migratingvm/","title":"Migrating VMS with Move","text":"<p>Nutanix Move makes it easy to move VMs and workloads onto Nutanix with minimal downtime.  For this portion of the lab, we'll migrate VMs from ESXi to AHV in NC2 Cluster.</p>"},{"location":"MigrateWLs/migratingvm/#view-source-vm","title":"View Source VM","text":"<p>Let's first take a look at the source VM on ESXi that we will be migrating to Nutanix. We have  provisioned Linux VMs for every lab user on ESXi that we will use to migrate over to Nutanix.</p> <ol> <li> <p>Login to the vCenter from the web browser using the IP address provided.     Make sure to use browser tab within your Parallels VDI instance.</p> <ul> <li>vCenter Address - provided by your instructor</li> <li>username - vCenter/vServer login PHX-POC###-User##@nutanixdc.local or DM#-POC###-User##@nutanixdc.local</li> <li> <p>password - vCenter/vServer Password</p> <p></p> <p></p> </li> </ul> </li> <li> <p>From the left-hand pane, expand to the Resource Group SharedMoveSource and click on LinuxTools VM  corresponding to your user number XXX_EVC_User## where XXX is represents the three digit number of your assigned clusters. Ignore the VM ending in _Tagged, we'll use that later in the advanced migration</p> <p></p> </li> <li> <p>On the Summary page of the VM, make a note of the IP address of the VM.</p> <p></p> <p>Note</p> <p>Be sure the IP address is selected and not the host IP</p> <p>We will be using the IP address to connect to a code-server via a browser within the Parallels VDI desktop. - URL - http://your-XXX-VM-IP:8001 If you are on a VPN connection, just input the IP address as shown in the URL above.</p> <p></p> </li> <li> <p>You will then be able to log into the code-server on that VM with the following:</p> <ul> <li>password - Cluster Lookup Sheet</li> </ul> <p>Note</p> <p>All users will use the same password regardless of what other passwords you previously use.</p> <p>You will then be able to access the terminal.</p> <p></p> </li> <li> <p>Let's go ahead and create a dummy file on the VM. You can close this tab once it's done.</p> <p></p> <p>Now that we have looked at our source VM, next, let's create a migration plan to move the VM.</p> </li> </ol>"},{"location":"MigrateWLs/overview/","title":"Migrating Your Workloads","text":""},{"location":"MigrateWLs/overview/#migrate-your-workloads","title":"Migrate Your Workloads","text":"<p>There are many different types of workloads and various ways each of them can be migrated. Customers will choose the right method based on their requirements and constraints. For this lab, we'll focus on using Nutanix-based methods as they typically provide the best user experience.</p>"},{"location":"MigrateWLs/overview/#move-architecture","title":"Move Architecture","text":"<p>Below you'll find the distributed architecture of Move. You can read more about the architecture and all the components on the - [https://www.nutanixbible.com/21b-vm-migration-arch.html]</p> <p></p> <p>Now that you have the destination cluster up and running with Prism Central and AHV, let's move some workloads.</p>"},{"location":"MigrateWLs/overview/#key-objectives","title":"Key Objectives","text":"<p>As part of the exercise, you will:</p> <ul> <li>Setup Move source and target environments.</li> <li>Migrate VMs from ESXi to Nutanix AHV (NC2) with Nutanix Move exploring basic features. </li> <li>Migrate VMs from ESXi to Nutanix AHV (on-prem) exploring advanced features. </li> <li>Explore migration at scale using a click-through demo of a larger environment.</li> </ul> <p>Note</p> <ul> <li>Expected Module Duration: 30 minutes</li> </ul>"},{"location":"MigrateWLs/setupmove/","title":"Setup Nutanix Move","text":""},{"location":"MigrateWLs/setupmove/#setup-move","title":"Setup Move","text":"<p>To migrate, we'll log in to the Move VM and setup the environments and migration plan.</p> <ol> <li> <p>Login to Prism Central</p> <ul> <li>username - PC login adminuser##@ntnxlab.local or adminuser##</li> <li>password - PC password from Connection Details</li> </ul> </li> <li> <p>Navigate to Compute &amp; Storage &gt; VMs</p> <p></p> </li> <li> <p>A Move VM known as Move has already been created. Look for that VM  in the main page or you can search in the search bar. Make a note of its IP address.</p> <p>Note</p> <pre><code>If you are the first person to access the Move VM, follow through steps 4-6 to complete \nthe setup, otherwise please proceed to step 7.\n</code></pre> </li> <li> <p>Open a new tab in browser within the VDI session and go to that IP address to open Move.  If it says \"Your connection is not private\", click Advanced and then Proceed to x.x.x.x (unsafe).</p> </li> <li> <p>Accept the Terms and Conditions and click Continue. Click Ok on the next screen.</p> <p></p> </li> <li> <p>First, it will ask you to set a password. Set ntnxNc2! as the password. That way those sharing the clusters will be able to access them as well.</p> <p></p> </li> <li> <p>Login using the same password which you have set earlier.</p> <p></p> </li> <li> <p>Click Ok, Got It on the splash screen.</p> </li> <li> <p>Select Migration Type VM and click Continue</p> <p></p> </li> <li> <p>We need to add the Source and Destination  Environments for Move. Let's first add the source ESXi environment.  Click Add Environment</p> <p></p> </li> <li> <p>In Select Environment Type, Select VMware ESXi</p> <p></p> <p>Note</p> <p>As you can see, Move supports different environment types including public clouds like AWS and Azure</p> </li> <li> <p>Provide the details for the environment. Click Add</p> <ul> <li>Environment Name : Any Name you like. We suggest Source ESXi.</li> <li>vCenter Server : Provide the IP address: XX.XX.XX.XX</li> <li>username - PHX-POC###-User##@nutanixdc.local or DM#-POC###-User##@nutnaixdc.local.  The username is case sensitive</li> <li> <p>password - vCenter password</p> <p></p> </li> </ul> <p>Note</p> <p>If you get an error about user not authorized, make sure the username is correct.  The username is case sensitive and also uses the @nutanixdc.local domain.</p> <p></p> </li> <li> <p>Once the ESXi environment is validated and added, next lets add our  destination Nutanix AHV cluster. Click Add Environment</p> <p></p> </li> <li> <p>In Select Environment Type, Select Nutanix AOS and then provide the details  for the environment. Click Add.  Remember this is the copy of PC residing in NC2.</p> <ul> <li>Environment Name : Any Name you like. We suggest Target AHV.</li> <li>Nutanix Environment : Provide the IP address of PC</li> <li>username - PC login - adminuser##@ntnxlab.local    password - PC password</li> </ul> <p></p> </li> <li> <p>Now repeat steps 13 to 14 to add in NC2 environment as another destination. </p> </li> <li> <p>Now is a good time to pause for a minute while the Prism Central is added  to the Move instance and it retrieves the inventory.</p> </li> <li> <p>After a short pause you can proceed to the basic migration in \"Migrating  VMs with Move\" with the link below.</p> </li> </ol>"},{"location":"SetEnv/categoryandpolicy/","title":"Category and Policy Management","text":""},{"location":"SetEnv/categoryandpolicy/#create-a-category","title":"Create a Category","text":"<ol> <li>Login to Prism Central using adminuser##.</li> <li>Expand Administration from the Infrastructure Dashboard.</li> <li>Click Categories.</li> <li> <p>Prism Central has 20 predefined system categories that cannot be updated or deleted. You can assign entities to these system categories while creating or updating VMs and other entities.</p> <p></p> </li> <li> <p>Click New Category.</p> </li> <li> <p>Define the category parameters.</p> <ul> <li> <p>Name: Provide a name for the category. You can name it User## where ## is your assigned User #. In this example we have named it User01</p> </li> <li> <p>Purpose: Give your category a purpose.</p> </li> <li> <p>Values: Production</p> </li> <li> <p>Click Save</p> </li> </ul> <p></p> </li> <li> <p>Let's go ahead and assign this category to the VMs Desktop ## .   </p> </li> <li> <p>Expand Compute &amp; Storage. Click on VMs.</p> </li> <li> <p>Search for the VMs Desktop ## where ## is your assigned number</p> <p></p> </li> <li> <p>Select the Desktop ## VM. Click Actions. Select Manage Categories.</p> <p> </p> </li> <li> <p>Search for the category which you had created. In our example it is User01:Production</p> <p></p> </li> <li> <p>Add the category by clicking the + sign next to User##:Production</p> <p></p> </li> <li> <p>Click Save when you have added the category.</p> </li> </ol> <p>Next, we'll navigate to the Categories section to see the categories and entities relationship</p> <ol> <li> <p>Expand Administration from the Infrastructure Dashboard.</p> </li> <li> <p>Click Categories</p> </li> <li> <p>Search for Category User ## where ## is your assigned User # from Connection Details.</p> </li> <li> <p>Click User ##.</p> <p></p> </li> <li> <p>You'll notice that the category has 2 VM as its associated enitites.</p> <p></p> </li> </ol>"},{"location":"SetEnv/categoryandpolicy/#create-additional-category-for-dr","title":"Create Additional Category for DR","text":"<p>Info</p> <p>These additional categories are meant for the DR labs in this session.</p> <ol> <li>Repeat steps 5 - 6.</li> </ol> <p>Define the category parameters.</p> <ul> <li> <p>Name: Provide a name for the category. You can name it User##-DR where ## is your     assigned User #. In this example we have named it User01-DR, User02-DR, User03-DR</p> </li> <li> <p>Purpose: Give your category a purpose. e.g DR to NC2</p> </li> <li> <p>Values: MYSQL,               WebServer</p> </li> <li> <p>Click Save</p> </li> <li> <p>Add your assigned VMs to the category.</p> <ul> <li>UserXX-MYSQL - UserXX-DR: MYSQL</li> <li> <p>UserXX-Webserver - UserXX-DR: WebServer</p> <p></p> </li> </ul> </li> </ul> <p>Note</p> <p>Remember to add categories individually to each VM</p>"},{"location":"SetEnv/overview/","title":"Nutanix Category Overview","text":"<p>Nutanix Categories are a feature within the Nutanix Prism management interface that allows administrators to organize and manage VMs (Virtual Machines) and other entities based on custom-defined labels or tags. These categories help in streamlining operations, enforcing policies, and simplifying management in a Nutanix environment.</p> <p>Key Features of Nutanix Categories:</p> <ul> <li> <p>Custom Labels: Administrators can create custom categories and assign values to them. For example, you could create a category called \"Environment\" with values like \"Production,\" \"Development,\" and \"Testing.\"</p> </li> <li> <p>Entity Organization: Categories can be applied to various entities such as VMs, storage containers, and applications, making it easier to group and manage resources.</p> </li> <li> <p>Policy Enforcement: Categories can be used to enforce policies, such as backup schedules, security settings, or resource allocation, based on the assigned labels.</p> </li> <li> <p>Search and Filter: Categories make it easier to search and filter entities within the Nutanix Prism interface, improving visibility and management efficiency.</p> </li> </ul> <p>Common Uses of Nutanix Categories:</p> <ul> <li> <p>Resource Management: Group VMs and other resources by department, project, or environment (e.g., Production, Development) to allocate resources more effectively.</p> </li> <li> <p>Automation: Use categories to automate tasks like backups, snapshots, or power management based on specific criteria.</p> </li> <li> <p>Compliance and Governance: Enforce compliance by tagging resources with categories like \"HIPAA-Compliant\" or \"PCI-DSS\" to ensure they meet regulatory requirements.</p> </li> <li> <p>Cost Tracking: Assign categories to track costs by department, project, or application for better financial management.</p> </li> <li> <p>Security: Apply security policies based on categories, such as restricting access to certain VMs or enforcing encryption for specific workloads.</p> </li> </ul> <p>In this section you'll configure categories, policies, and playbooks to prepare for migration. Your migrated VMs will take advantage of these configurations as soon as they spin up on the Nutanix Cloud Platform in later steps.</p>"},{"location":"SetEnv/overview/#environment-setup","title":"Environment Setup","text":"<p>Info</p> <ul> <li>Prequisities:N/A</li> <li>Expected Module Duration: 15 minutes</li> </ul>"},{"location":"SetEnv/playbook/","title":"Task Automation with Playbooks","text":""},{"location":"SetEnv/playbook/#overview","title":"Overview","text":"<p>X-Play is a user-friendly automation tool designed to streamline routine administrative tasks and automatically resolve issues that arise within your system. This automation is achieved by creating Playbooks.</p> <p>A Playbook consists of a trigger and a set of actions that execute when the trigger is activated.</p> <p>The trigger can be based on a specific alert or a group of alerts, events like VM creation or deletion, manual initiation to run a series of tasks with a single click, scheduled to run at a specific time (similar to cron jobs), or triggered through a webhook via a REST API call from a third-party tool.</p> <p>The action gallery contains 45 native actions that can be chained together, including integrations with tools like PagerDuty, ServiceNow, Slack, Microsoft Teams, and more. If a native action is not available, you can use REST APIs and scripting actions to create custom workflows.</p> <p></p>"},{"location":"SetEnv/playbook/#create-a-playbook","title":"Create a Playbook","text":"<p>An IT Admin wants to receive an email notification whenever a VM is created in the Environment. For example, when VMs are migrated from ESXi to AHV. Let\u2019s explore how Playbooks can automate this process. We'll use a simple trigger and then a branch condition to filter down the list of VMs.</p> <ol> <li> <p>Login to Prism Central using adminuser## and the PC password from the Connection Details page.</p> </li> <li> <p>Navigate to the App Switcher section in the top left of Prism Central. Click Intelligent Operations in the App Switcher.</p> </li> <li> <p>Select Playbooks from the Intelligent Operations Dashboard.</p> </li> <li> <p>Click Get Started.</p> </li> <li> <p>Click Create Playbook.</p> <p></p> </li> <li> <p>We can view a list of available triggers, including Alerts, Events, Time-based, Manual, and Webhook triggers. For this example, let's choose the event-based trigger, as we are focusing on a VM creation event.</p> <p></p> </li> <li> <p>Search for Created VM event in the Select an Event Type field.</p> <p></p> </li> <li> <p>In the Target VM, choose All Applicable VMs.</p> <p></p> </li> <li> <p>Click Add Action.</p> <p></p> </li> <li> <p>We can view a list of available actions. Select the Branch action.</p> <p></p> </li> <li> <p>Define the following Values for the branch condition:</p> <p>Condition: If</p> <p>Operand: Click Parameters and select Event: Source Entity Name</p> <p>Operator: regexp</p> <p>Value: User ## where ## is your assigned User # from Connection Details. In this example, we are using User01.</p> <p></p> </li> <li> <p>We are going to add a second action within this branch. Click Add Action within the Branch Condition.</p> <p></p> </li> <li> <p>Select \"\"Lookup VM Details\"\" because the IT Admin would like to receive information about the newly created VM.</p> <p></p> </li> <li> <p>In the Target VM field, Leave it as Event: Source Entity </p> </li> <li> <p>We are going to add a third action. Click Add Action within the Branch Condition</p> <p></p> </li> <li> <p>Select Email Action.</p> </li> <li> <p>Enter your own Email Address in the Recipient Field. </p> <p>Note</p> <p>Since the SMTP is not set to your company default mail server, you are likely to get an error. This is intentional, despite the error you will get so that you will learn that this functionality is possible in any environment with a proper SMTP server.</p> </li> <li> <p>Enter \"Your virtual machine is created\" in the Subject field.</p> </li> <li> <p>In the Message Field, Click Parameters. Ensure the below parameters are selected:</p> <p>Type in Playbook Run Time: and select the Parameter Playbook: Current Time</p> <p>Type in Playbook Name: and select the Parameter Playbook: Playbook Name</p> <p>Type in VM Name: and select the Parameter Lookup VM Details: VM Name</p> <p>Type in VM Owner: and select the Parameter Lookup VM Details: VM Owner Name</p> <p>Type in VM IP Address: and select the Parameter Lookup VM Details: VM IP Address</p> <p>Type in Source Cluster: and select the Parameter Event: Source Cluster</p> <p></p> </li> <li> <p>Click Save &amp; Close.</p> </li> <li> <p>Provide a unique name for the Playbook. Let's call it \"User## VM Created\" where ## is your assigned number</p> </li> <li> <p>Lets enable the Playbook by toggling the status to Enabled.</p> <p></p> </li> <li> <p>CLick Save.</p> </li> <li> <p>You'll see this playbook in action as you migrate your VMs.</p> </li> </ol> <p>Note</p> <p>You might see your playbook executed partially successfull. It is okay and is intentional due to the lab environment.</p>"},{"location":"SetEnv/policy/","title":"Policy Management","text":"<p>The following provides a quick introduction of the polices and the steps you configure them.</p>"},{"location":"SetEnv/policy/#overview-of-policies","title":"Overview of Policies","text":"<p>Policies are used to define the systematic configuration guidelines for entities such as VMs, Images, Storage, and Network Security.</p> <p>Nutanix Prism Central enables you to create and manage the following policies</p> <ul> <li> <p>VM Management - Allows you to manage policies related to VM-Host Affinity, VM-VM Anti-Affinity and NGT Policies</p> </li> <li> <p>Image Management - Allows you to manage policies related to Image Placement and Bandwidth Throttling.</p> </li> <li> <p>Storage Policies - Allows you to manage policies related to storage attributes like Replication Factor, encryption, compression and QoS of VMs and Volume Groups entities.</p> </li> <li> <p>Security Policies - Allows you to manage policies related to VM network traffic.</p> </li> <li> <p>Protection Policies - Allows you to manage policies related to Disaster Recovery attributes such as asynchronous, synchronous, and near sync replication.</p> </li> </ul> <p>In this section, you will learn how to create a storage policy.</p>"},{"location":"SetEnv/policy/#storage-policy","title":"Storage Policy","text":""},{"location":"SetEnv/policy/#default-storage-policy","title":"Default Storage Policy","text":"<p>Prism Central 2024.1 or later version has a predefined or default Storage Policy. The default storage policy has the below parameters</p> <ul> <li>Replication Factor is set to 2</li> <li>Encryption is set to Inherit from Cluster</li> <li>Compression is set to Inline</li> <li>No values are set for QoS</li> </ul> <p></p> <p>The default storage policy cannot be updated or deleted. However, it can be cloned to make changes.</p> <p>Entities such as VMs and Volume Groups can be added to the Default Storage Policy by enabling the \"Enable Default-Storage Policy\" switch when you create or update a VM or Volume Group.</p> <p></p>"},{"location":"SetEnv/policy/#create-a-custom-storage-policy","title":"Create a Custom Storage Policy","text":"<ol> <li> <p>Login to Prism Central using adminuser## and the PC password from the Connection Details page.</p> </li> <li> <p>Expand Compute &amp; Storage in the Infrastructure Dashboard.</p> </li> <li> <p>Click Storage Policies.</p> </li> <li> <p>Click Create Storage Policy.</p> </li> <li> <p>Provide a name for the Storage Policy. Let's call it user ##-sp where ## is your assigned User # from Connection Details.</p> </li> <li> <p>Let's set the Replication Factor to Inherit from Container.</p> </li> <li> <p>Set Encryption to Inherit from Cluster.</p> </li> <li> <p>Turn on Compression and use Inline Compression.</p> </li> </ol> <p></p> <ol> <li> <p>Click Next.</p> </li> <li> <p>Let's define the VMs belonging to User ##:Production Category where ## is your User #. In this example, it is User01:Production</p> <p></p> </li> <li> <p>Click Save.</p> </li> <li> <p>You should see your policy listed in Storage Policies.</p> </li> </ol>"},{"location":"SetEnv/policy/#categories-and-policies-takeaways","title":"Categories and Policies Takeaways","text":"<p>You'll see these categories and policies used later in the lab. Let's move on to setting up some no-code automation to get ready for our onboarded workloads.</p>"},{"location":"SetEnv/setuptakeaway/","title":"Takeaways","text":"<p>Your target environment is now ready to start the migration of workloads.</p> <p>See your cluster come to life, taking advantage of the categories, policies, and playbooks you've configured.</p>"}]}